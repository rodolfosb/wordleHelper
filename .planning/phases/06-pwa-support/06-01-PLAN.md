---
phase: 06-pwa-support
plan: 01
type: execute
depends_on: []
files_modified: [vite.config.ts, index.html, public/pwa-192x192.png, public/pwa-512x512.png, public/apple-touch-icon.png, public/favicon.ico, public/favicon.svg]
---

<objective>
Add Progressive Web App support to make the Wordle Helper installable and work offline.

Purpose: Users can install the app on their home screen and use it without internet connection - perfect for solving Wordle on the go.
Output: PWA-enabled app with service worker, web manifest, and required icons.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-plan.md
~/.claude/get-shit-done/templates/summary.md
~/.claude/get-shit-done/references/checkpoints.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/06-pwa-support/06-RESEARCH.md

**Key files:**
@vite.config.ts
@index.html
@public/vite.svg

**From RESEARCH.md - Don't hand-roll:**
- Service worker code - use vite-plugin-pwa generateSW
- Precache manifest - Workbox auto-generates
- SW update detection - plugin handles with autoUpdate
- Manifest injection - plugin auto-injects

**Tech stack:**
- vite-plugin-pwa ^1.2.0 (zero-config PWA)
- Workbox (peer dependency, auto-installed)

**Constraining decisions:**
- Wordle dark theme colors: #121213 (background), #538d4e (green)
- GitHub Pages base URL: /wordleHelper/
- Vanilla TypeScript (no framework)
</context>

<tasks>

<task type="auto">
  <name>Task 1: Install and configure vite-plugin-pwa</name>
  <files>package.json, vite.config.ts</files>
  <action>
1. Install vite-plugin-pwa as dev dependency: `npm install -D vite-plugin-pwa`
2. Update vite.config.ts to add VitePWA plugin with configuration:
   - registerType: 'autoUpdate' (safe for app without forms)
   - includeAssets: ['favicon.ico', 'apple-touch-icon.png']
   - manifest with:
     - name: 'Wordle Helper'
     - short_name: 'WordleHelp'
     - description: 'Smart word suggestions to solve Wordle puzzles'
     - theme_color: '#121213' (Wordle dark theme)
     - background_color: '#121213'
     - display: 'standalone'
     - scope: '/wordleHelper/'
     - start_url: '/wordleHelper/'
     - icons array with 192x192, 512x512, and maskable variants

DO NOT write custom service worker code - the plugin generates it automatically.
  </action>
  <verify>npm run build succeeds, dist/ contains sw.js and manifest.webmanifest</verify>
  <done>vite-plugin-pwa installed, vite.config.ts updated with full PWA config, build generates SW and manifest</done>
</task>

<task type="auto">
  <name>Task 2: Create PWA icon assets</name>
  <files>public/pwa-192x192.png, public/pwa-512x512.png, public/apple-touch-icon.png, public/favicon.ico, public/favicon.svg</files>
  <action>
Create PWA icons using a simple "W" letter design in Wordle green (#538d4e) on dark background (#121213):

1. Create public/favicon.svg - SVG with "W" letter, 32x32 viewBox
2. Create public/pwa-192x192.png - 192x192 PNG with "W" centered
3. Create public/pwa-512x512.png - 512x512 PNG with "W" centered
4. Create public/apple-touch-icon.png - 180x180 PNG for iOS
5. Create public/favicon.ico - Standard favicon

For PNG generation, use ImageMagick convert command to create from SVG:
```bash
# Create SVG first, then convert
convert -background "#121213" -size 192x192 public/favicon.svg public/pwa-192x192.png
convert -background "#121213" -size 512x512 public/favicon.svg public/pwa-512x512.png
convert -background "#121213" -size 180x180 public/favicon.svg public/apple-touch-icon.png
convert -background "#121213" -size 32x32 public/favicon.svg public/favicon.ico
```

If ImageMagick not available, create simple placeholder PNGs that can be replaced later.
Remove old public/vite.svg after creating new icons.
  </action>
  <verify>ls public/ shows all icon files, file sizes are non-zero</verify>
  <done>All required PWA icons exist in public/: favicon.svg, favicon.ico, pwa-192x192.png, pwa-512x512.png, apple-touch-icon.png</done>
</task>

<task type="auto">
  <name>Task 3: Update index.html with PWA meta tags</name>
  <files>index.html</files>
  <action>
Update index.html head section with required PWA meta tags:

1. Keep existing: charset, viewport, theme-color, title
2. Add: meta description
3. Update: link rel="icon" to use new favicon
4. Add: link rel="apple-touch-icon"
5. Remove: old vite.svg reference

Final head should include:
- meta charset="UTF-8"
- meta viewport (existing)
- meta name="theme-color" content="#121213"
- meta name="description" content="Smart word suggestions to solve Wordle puzzles"
- link rel="icon" href="/wordleHelper/favicon.svg" type="image/svg+xml"
- link rel="icon" href="/wordleHelper/favicon.ico" sizes="32x32"
- link rel="apple-touch-icon" href="/wordleHelper/apple-touch-icon.png"
- title (existing)

Note: Use absolute paths with base URL for icons since PWA can be launched from home screen.
  </action>
  <verify>npm run build succeeds, view dist/index.html shows all meta tags</verify>
  <done>index.html has all required PWA meta tags including description, icons, and apple-touch-icon</done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>PWA support with service worker, manifest, and icons</what-built>
  <how-to-verify>
    1. Run: npm run build && npm run preview
    2. Open: http://localhost:4173/wordleHelper/ in Chrome
    3. Open DevTools > Application tab
    4. Check "Manifest" section - should show app name, icons, theme color
    5. Check "Service Workers" section - should show registered SW
    6. Look for install icon in Chrome address bar (or three-dot menu > "Install Wordle Helper")
    7. Optional: Install the app and verify it opens in standalone window
    8. Optional: Turn off network in DevTools, reload - app should still work
  </how-to-verify>
  <resume-signal>Type "approved" to continue, or describe issues to fix</resume-signal>
</task>

</tasks>

<verification>
Before declaring phase complete:
- [ ] `npm run build` succeeds without errors
- [ ] dist/ contains sw.js (service worker)
- [ ] dist/ contains manifest.webmanifest
- [ ] All icon files present in dist/
- [ ] PWA installable in Chrome (install prompt appears)
- [ ] App works offline after installation
</verification>

<success_criteria>
- All tasks completed
- All verification checks pass
- PWA installable on desktop Chrome
- App functions offline
- Phase 6 complete
</success_criteria>

<output>
After completion, create `.planning/phases/06-pwa-support/06-01-SUMMARY.md` using template from `~/.claude/get-shit-done/templates/summary.md`
</output>

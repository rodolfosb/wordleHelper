---
phase: 04-user-interface
plan: 02
type: execute
depends_on: ["04-01"]
files_modified: [src/ui/Suggestions.ts, src/main.ts, src/style.css]
---

<objective>
Wire up the constraint logic and display ranked word suggestions to the user.

Purpose: Complete the user-facing functionality by showing filtered/ranked suggestions after each guess submission.
Output: A suggestions panel that updates after each guess, plus a new game reset button.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-plan.md
~/.claude/get-shit-done/templates/summary.md
~/.claude/get-shit-done/references/checkpoints.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/04-user-interface/04-01-SUMMARY.md
@src/types/index.ts
@src/logic/constraints.ts
@src/logic/filter.ts
@src/logic/ranking.ts
@src/data/words.ts

**From Plan 01:** GuessGrid class with getGuessFeedback() method, keyboard input, color cycling
**Logic available:** createEmptyConstraints, addGuessToConstraints, filterWords, rankWords
**Data:** WORD_LIST (2,399 words)
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create suggestions panel UI</name>
  <files>src/ui/Suggestions.ts, src/main.ts, src/style.css</files>
  <action>
    Create Suggestions class to display ranked words:
    - Panel to the right of guess grid (or below on narrow screens)
    - Show "X words remaining" count at top
    - Display top 20 ranked words as a scrollable list
    - Each word shows: word, score (as percentage or bar)
    - Highlight top 3 suggestions visually (bolder or different color)
    - Initial state: show all 2,399 words count, top suggestions from full list
    - CSS: Clean list styling, subtle hover effect, fixed height with scroll
    - Export update(rankedWords: RankedWord[], remainingCount: number) method
  </action>
  <verify>Page shows suggestions panel with word count and ranked list</verify>
  <done>Suggestions panel displays with word count and top 20 words, scrollable if needed</done>
</task>

<task type="auto">
  <name>Task 2: Wire up guess submission to constraint engine</name>
  <files>src/main.ts</files>
  <action>
    Connect GuessGrid Enter key to update suggestions:
    - Maintain app state: current Constraints, filtered word list
    - On Enter (row complete): get GuessFeedback from GuessGrid
    - Call addGuessToConstraints with current constraints and guess
    - Call filterWords with WORD_LIST and new constraints
    - Call rankWords with filtered words
    - Update Suggestions panel with new ranked words
    - Advance GuessGrid to next row (add advanceRow() method to GuessGrid if needed)
    - If 0 words remain: show "No matches found" message
    - If only 1 word remains: highlight it as "Answer found!"
    - Remove console.log test code from main.ts, keep only app initialization
  </action>
  <verify>Enter a guess, mark colors, press Enter. Suggestions update to show filtered words.</verify>
  <done>Guess submission triggers constraint update and suggestions refresh</done>
</task>

<task type="auto">
  <name>Task 3: Add new game reset functionality</name>
  <files>src/main.ts, src/ui/GuessGrid.ts, src/style.css</files>
  <action>
    Add reset button to start fresh:
    - "New Game" button above or below the grid
    - On click: reset Constraints to empty, reset GuessGrid (clear all cells, colors, return to row 0)
    - Reset Suggestions to show full word list ranked
    - Add reset() method to GuessGrid class
    - Style button to fit app aesthetic (simple, clear)
  </action>
  <verify>Click New Game after entering guesses. Grid clears, suggestions reset to full list.</verify>
  <done>Reset button clears all state and returns to initial view</done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>Complete Wordle Helper input interface with guess entry, color marking, and live suggestions</what-built>
  <how-to-verify>
    1. Run: npm run dev
    2. Visit: http://localhost:5173
    3. Test guess entry: Type "CRANE", see letters appear in first row
    4. Test color marking: Click letters to cycle gray → yellow → green
    5. Test submission: Press Enter, verify suggestions panel updates
    6. Test multiple guesses: Enter another guess with different colors
    7. Test edge case: Try with all gray (common letters should rank high)
    8. Test reset: Click "New Game", verify everything clears
    9. Confirm: UI is clean, responsive, and intuitive
  </how-to-verify>
  <resume-signal>Type "approved" to continue, or describe issues to fix</resume-signal>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] `npm run build` succeeds without errors
- [ ] Suggestions panel shows word count and ranked list
- [ ] Entering a guess and pressing Enter updates suggestions
- [ ] Color changes affect filtering (different colors = different results)
- [ ] New Game button resets everything
- [ ] No TypeScript errors
- [ ] UI is usable and matches Wordle mental model
</verification>

<success_criteria>

- All tasks completed
- All verification checks pass
- User can: enter guesses, mark colors, see suggestions, reset game
- No console.log test code remaining
- Phase 4 complete, ready for Phase 5 polish
</success_criteria>

<output>
After completion, create `.planning/phases/04-user-interface/04-02-SUMMARY.md`
</output>
